Немного посвоевольничал в задании
Добавил еще ami-id как параметр, и inst_name, который через тег вставляем в имя инстанса (в интерфейсе вебконсоли красиво)  
И вызвал модуль несколько раз из рут-модуля с разными наборами параметров
(не уверен правда что так правильно, но интересно)
В процессе "наступил" на пару проблем:
1. SSH-ключ вынес в root-модуль. Тогда его можно "кастомизировать" через параметр при вызове plan/apply, и использовать для подключения ко всем инстансам созданным модулем (иначе каждому инстансу придется описывать отдельную ключевую пару с уникальным именем, может так и надо было... или каким то другим способом избегать попыток создания кейпары с одним и тем же именем)
2. Для полной "кастомизации" всех параметров пришлось переменные на уровне модуля продублировать на уровне root-модуля и "следить" за дефолтными значениями на обоих уровнях. Получилась некрасивая каша, если вызвать модуль "без параметров" - отработают дефолтные значения переменных уровня модуля. А если вызов модуля описать с параметрами определенными в рут-модуле, можно дполнительно "кастомизироваться" из командной строки. Пока не очень понимаю как правильно. Вроде как модуль для повторного использования "кусков" конфигурации, тогда наверное правильно всегда вызывать модуль с всеми параметрами. И если он используется более чем 1 раз в рут-модуле то параметры командной строки становятся малоприменимы, и тот "огород" что я нагородил для "проброса" параметров из CLI сквозь рутмодуль в модуль - получается чисто для "поиграться".
3. SecurityGroup - при многократном использовании модуля, вероятно целесообразнее будет вынести создание SecurityGroup из модуля и использовать одну группу для одного типа инстансов. Иначе (как например в моем случае) получим несколько одинаковых SecurityGroup, каждую для своего инстанса, вместо одной группы, связанной с несколькими инстансами (что по-моему более верно).

Добавил ebs_storage_size (с валидацией )
Вернул генерацию KeyPair в модуль.
(имена через key_name_prefix)

